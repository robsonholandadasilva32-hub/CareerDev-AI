{% extends "dashboard_layout.html" %}

{% block dashboard_content %}
<div class="card accessibility-page">
    <div class="a11y-panel-container" style="background: transparent; border: none; padding: 0;">

        <div style="margin-bottom: 25px; border-bottom: 2px solid var(--accent-color); padding-bottom: 15px;">
            <h2 style="display: flex; align-items: center; gap: 10px; color: var(--primary-color);">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                Universal Accessibility
            </h2>
            <p style="color: var(--text-muted); font-size: 0.95rem;">
                Customize your experience. Settings saved automatically.
            </p>
        </div>

        <section class="a11y-section" aria-labelledby="sec-cognitive">
            <h3 id="sec-cognitive" class="section-title">
                <span class="icon">üß†</span> Cognitive & Reading
            </h3>
            <div class="grid-options">
                <div class="a11y-toggle">
                    <label class="switch-label">
                        <span>Dyslexia Font (OpenDyslexic)</span>
                        <input type="checkbox" id="a11y-font" onchange="toggleA11y('dyslexic-font')">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="a11y-toggle">
                    <label class="switch-label">
                        <span>Reading Guide (Focus)</span>
                        <input type="checkbox" id="a11y-guide" onchange="toggleReadingGuide()">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="a11y-toggle">
                    <label class="switch-label">
                        <span>Stop Animations (ADHD/Vestibular)</span>
                        <input type="checkbox" id="a11y-motion" onchange="toggleA11y('reduced-motion')">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </section>

        <section class="a11y-section" aria-labelledby="sec-vision">
            <h3 id="sec-vision" class="section-title">
                <span class="icon">üëÅÔ∏è</span> Vision & Colors
            </h3>
            <div class="grid-options">
                <div class="a11y-toggle">
                    <label class="switch-label">
                        <span>High Contrast</span>
                        <input type="checkbox" id="a11y-contrast" onchange="toggleA11y('high-contrast')">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="a11y-control">
                    <label for="color-filter">Color Blindness Filter</label>
                    <select id="color-filter" onchange="applyColorFilter(this.value)" class="a11y-select">
                        <option value="none">None</option>
                        <option value="protanopia">Protanopia (Red)</option>
                        <option value="deuteranopia">Deuteranopia (Green)</option>
                        <option value="tritanopia">Tritanopia (Blue)</option>
                        <option value="achromatopsia">Achromatopsia (Monochrome)</option>
                    </select>
                </div>

                <div class="a11y-control full-width">
                    <label for="font-size-range">Text Size</label>
                    <div class="range-wrapper">
                        <span style="font-size: 0.8rem">A</span>
                        <input type="range" id="font-size-range" min="100" max="150" step="10" value="100" oninput="updateFontSize(this.value)">
                        <span style="font-size: 1.2rem">A</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="a11y-section" aria-labelledby="sec-hearing">
            <h3 id="sec-hearing" class="section-title">
                <span class="icon">üëÇ</span> Hearing & Sound
            </h3>
            <div class="grid-options">
                <div class="a11y-toggle">
                    <label class="switch-label">
                        <span>Visual Alerts (Flash)</span>
                        <input type="checkbox" id="a11y-visual-alerts" onchange="toggleA11yState('visual-alerts')">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="a11y-toggle">
                    <label class="switch-label">
                        <span>Simplified Communication (Chat)</span>
                        <input type="checkbox" id="a11y-simple-text" onchange="toggleA11yState('simple-text')">
                        <span class="slider"></span>
                    </label>
                </div>
                
                </div>
        </section>

        <section class="a11y-section" aria-labelledby="sec-motor">
            <h3 id="sec-motor" class="section-title">
                <span class="icon">‚úã</span> Motor & Interaction
            </h3>
            <div class="grid-options">
                <div class="a11y-toggle">
                    <label class="switch-label">
                        <span>Expanded Click Areas</span>
                        <input type="checkbox" id="a11y-big-targets" onchange="toggleA11y('big-targets')">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="a11y-toggle">
                    <label class="switch-label">
                        <span>Voice Command (Beta)</span>
                        <input type="checkbox" id="a11y-voice" onchange="toggleVoiceNav()">
                        <span class="slider"></span>
                    </label>
                    <small id="voice-status" style="display: block; margin-top: 5px; color: var(--primary-color); font-size: 0.8rem; display: none;">
                        üé§ Listening... Say "Go to Dashboard", "Logout", "Scroll Down"
                    </small>
                </div>
            </div>
        </section>

    </div>
</div>

<div id="reading-guide-bar" style="display: none; position: fixed; height: 30px; width: 100%; background: rgba(255, 242, 0, 0.15); pointer-events: none; z-index: 99999; border-top: 2px solid #ffee00; border-bottom: 2px solid #ffee00; top: 0; left: 0; box-shadow: 0 0 100px rgba(0,0,0,0.5);"></div>

{% endblock %}