{% extends "dashboard_layout.html" %}

{% block dashboard_content %}
<div class="card profile-settings">
    <h2>ðŸ‘¤ My Account</h2>
    <p>Update your personal information.</p>

    <form action="/dashboard/profile" method="POST" style="margin-top: 30px; max-width: 800px;">
        <!-- INFO BASICA -->
        <h3>Personal Information</h3>
        <div style="display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label>Full Name</label>
                <input type="text" name="name" value="{{ user.name }}" required class="form-control" style="width: 100%; padding: 10px; background: #1f2937; border: 1px solid #374151; color: white; border-radius: 6px;">
            </div>
            <div>
                <label>Email (Not editable)</label>
                <input type="email" value="{{ user.email }}" disabled class="form-control" style="width: 100%; padding: 10px; background: #111827; border: 1px solid #374151; color: #9ca3af; border-radius: 6px;">
            </div>
        </div>

        <hr style="border-color: #374151; margin: 30px 0;">

        <!-- ENDERECO COBRANCA (Read Only / Synced) -->
        <h3>ðŸ’³ Billing Address</h3>
        <p style="color: #9ca3af; font-size: 0.9em; margin-bottom: 20px;">
            This address is managed via your secure subscription. Update it during your next checkout.
        </p>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
             <div style="grid-column: span 2;">
                <label>Street Address</label>
                <input type="text" value="{{ user.billing_address_street or '' }}" disabled class="form-control" style="width: 100%; padding: 10px; background: #111827; border: 1px solid #374151; color: #9ca3af; border-radius: 6px;">
            </div>
            <div>
                <label>Number</label>
                <input type="text" value="{{ user.billing_address_number or '' }}" disabled class="form-control" style="width: 100%; padding: 10px; background: #111827; border: 1px solid #374151; color: #9ca3af; border-radius: 6px;">
            </div>
            <div>
                <label>Unit / Suite</label>
                <input type="text" value="{{ user.billing_address_complement or '' }}" disabled class="form-control" style="width: 100%; padding: 10px; background: #111827; border: 1px solid #374151; color: #9ca3af; border-radius: 6px;">
            </div>
            <div>
                <label>City</label>
                <input type="text" value="{{ user.billing_address_city or '' }}" disabled class="form-control" style="width: 100%; padding: 10px; background: #111827; border: 1px solid #374151; color: #9ca3af; border-radius: 6px;">
            </div>
             <div>
                <label>State / Province</label>
                <input type="text" value="{{ user.billing_address_state or '' }}" disabled class="form-control" style="width: 100%; padding: 10px; background: #111827; border: 1px solid #374151; color: #9ca3af; border-radius: 6px;">
            </div>
            <div>
                <label>Zip / Postal Code</label>
                <input type="text" value="{{ user.billing_address_zip_code or '' }}" disabled class="form-control" style="width: 100%; padding: 10px; background: #111827; border: 1px solid #374151; color: #9ca3af; border-radius: 6px;">
            </div>
            <div>
                <label>Country</label>
                <input type="text" value="{{ user.billing_address_country or '' }}" disabled class="form-control" style="width: 100%; padding: 10px; background: #111827; border: 1px solid #374151; color: #9ca3af; border-radius: 6px;">
            </div>
        </div>

        {% if success %}
        <div style="background: rgba(0, 255, 136, 0.2); border: 1px solid #00ff88; color: #00ff88; padding: 10px; border-radius: 6px; margin-bottom: 20px;">
            Profile updated successfully!
        </div>
        {% endif %}

        {% if error %}
        <div style="background: rgba(255, 0, 85, 0.2); border: 1px solid #ff0055; color: #ff0055; padding: 10px; border-radius: 6px; margin-bottom: 20px;">
            {{ error }}
        </div>
        {% endif %}

        <button type="submit" class="btn">Save Changes</button>
    </form>
</div>
{% endblock %}
