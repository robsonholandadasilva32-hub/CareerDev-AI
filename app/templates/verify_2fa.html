{% extends "base.html" %}

{% block content %}
<section class="card" style="max-width: 400px; margin: 40px auto; text-align: center;">
  <h1>Verificação de Segurança</h1>

  <p>
    Este é um passo extra para proteger sua conta.
    Ele só aparece porque você escolheu ativar o 2FA.
  </p>

  <p>
    Digite abaixo o código temporário enviado para você.
  </p>

  <form method="post" action="/verify-2fa" style="display: flex; flex-direction: column; gap: 15px;">
    <div style="text-align: left;">
        <label for="code" style="display: block; margin-bottom: 5px;">Código de verificação</label>
        <input
          id="code"
          name="code"
          type="text"
          inputmode="numeric"
          aria-describedby="help"
          required
          style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #2d3748; background: #0a0f1c; color: white;"
        >
    </div>

    {% if error %}
    <p style="color: #ff0055;">{{ error }}</p>
    {% endif %}

    <p id="help" style="font-size: 0.8em; color: #9aa4b2;">
      O código expira em poucos minutos.
    </p>

    <button type="submit" class="btn">
      Verificar
    </button>
  </form>

  <form method="post" action="/resend-2fa" style="margin-top: 20px;">
      <button type="submit" class="btn-outline" aria-label="{{ t.verify_email_resend_button or 'Reenviar Código' }}">
          {{ t.verify_email_resend_button or "Reenviar Código" }}
      </button>
  </form>

  <section style="margin-top: 20px; font-size: 0.9em; color: #64748b;">
    <p>
      Assistente: Se precisar de ajuda, diga “ajuda” ou “repetir”.
    </p>
  </section>

</section>
{% endblock %}
