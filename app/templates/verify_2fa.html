{% extends "base.html" %}

{% block content %}
<section class="card" style="max-width: 400px; margin: 40px auto; text-align: center;">
  <h1>{{ page_title }}</h1>

  <p>
    {{ instructions }}
  </p>

  <form method="post" action="{{ form_action }}" style="display: flex; flex-direction: column; gap: 15px;">
    {% if extra_hidden_fields %}
        {% for key, value in extra_hidden_fields.items() %}
        <input type="hidden" name="{{ key }}" value="{{ value }}">
        {% endfor %}
    {% endif %}

    <div style="text-align: left;">
        <label for="code" style="display: block; margin-bottom: 5px;">{{ t.verify_code_label or "Código de verificação" }}</label>
        <input
          id="code"
          name="code"
          type="text"
          inputmode="numeric"
          aria-describedby="help"
          required
          style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #2d3748; background: #0a0f1c; color: white;"
        >
    </div>

    {% if error %}
    <p style="color: #ff0055;">{{ error }}</p>
    {% endif %}

    <p id="help" style="font-size: 0.8em; color: #9aa4b2;">
      O código expira em poucos minutos.
    </p>

    <button type="submit" class="btn">
      Verificar
    </button>
  </form>

  <form method="post" action="{{ resend_action }}" style="margin-top: 20px;">
      {% if extra_hidden_fields %}
        {% for key, value in extra_hidden_fields.items() %}
        <input type="hidden" name="{{ key }}" value="{{ value }}">
        {% endfor %}
      {% endif %}

      <button id="resend-btn" type="submit" class="btn-outline" aria-label="{{ t.verify_email_resend_button or 'Reenviar Código' }}">
          {{ t.verify_email_resend_button or "Reenviar Código" }}
      </button>
  </form>

  <section style="margin-top: 20px; font-size: 0.9em; color: #64748b;">
    <p>
      Assistente: Se precisar de ajuda, diga “ajuda” ou “repetir”.
    </p>
  </section>

  <script src="/static/js/cooldown.js"></script>

</section>
{% endblock %}
