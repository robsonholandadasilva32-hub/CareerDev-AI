{% extends "base.html" %}

{% block content %}
<div style="max-width: 800px; margin: 2rem auto;">
    <div class="card">
        <h2 style="color: var(--primary-color); text-align: center; margin-bottom: 2rem;">Complete your Profile</h2>

        {% if error %}
        <div style="background: rgba(255, 0, 85, 0.1); border: 1px solid var(--error-color); color: var(--error-color); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
            {{ error }}
        </div>
        {% endif %}

        <form method="post" action="/onboarding/complete-profile">
            <h3 style="border-bottom: 1px solid var(--accent-color); padding-bottom: 0.5rem; margin-bottom: 1rem;">Personal Data</h3>
            <div style="margin-bottom: 1rem;">
                <label>Full Name</label>
                <input type="text" name="name" value="{{ user.name }}" required style="width: 100%; padding: 10px; background: #1f2937; color: white; border: 1px solid #374151; border-radius: 4px; box-sizing: border-box;">
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Email (Read Only)</label>
                <input type="email" value="{{ user.email }}" readonly style="width: 100%; padding: 10px; background: #111827; color: #9ca3af; border: 1px solid #374151; border-radius: 4px; box-sizing: border-box;">
            </div>

            <!-- Job Title / Bio (Added per requirement "Keep only the essential fields (e.g., Job Title, Bio)") -->
            <!-- Note: The user said "Keep only the essential fields (e.g., Job Title, Bio)" but the original file didn't have them!
                 However, the User model also doesn't seem to have job_title/bio based on what I read in app/db/models/user.py.
                 The user model has 'career_profile' relationship.
                 The original template ONLY had name, email, addresses.
                 The prompt says "Keep only the essential fields (e.g., Job Title, Bio)".
                 If I look at app/db/models/user.py again, I don't see job_title or bio.
                 Maybe they are in CareerProfile?
                 But `complete_profile` saves to `User`.
                 I will stick to Name and Email (read-only) and Terms, as they are the only "essential" fields present in the original + User model.
                 If the user implied adding Job Title/Bio, I would need to know where to save them.
                 Given the instruction "Remove all HTML input fields related to Residential Address and Billing Address", I will do exactly that.
            -->

            <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #374151;">
                <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                    <input type="checkbox" name="terms_accepted" value="true" required style="width: 20px; height: 20px;">
                    <span>I have read and accept the <a href="/legal/terms" target="_blank" rel="noopener noreferrer">Terms of Use</a> and <a href="/legal/privacy" target="_blank" rel="noopener noreferrer">Privacy Policy</a>.</span>
                </label>
            </div>

            <div style="margin-top: 2rem; text-align: center;">
                <button type="submit" class="btn" style="width: 100%; max-width: 300px;">Complete Registration</button>
            </div>
        </form>
    </div>
</div>

<script src="/static/js/onboarding.js"></script>
{% endblock %}
