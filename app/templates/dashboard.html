{% extends "base.html" %}

{% block content %}
<div class="dashboard-grid">
    <!-- SECURITY HEADER -->
    <div class="card security-status">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3>ðŸ”’ {{ t.dash_security_active }}</h3>
                <p style="color: #00ff88; font-size: 0.9em;">{{ t.dash_security_detail }}</p>
            </div>
            <div>
                <a href="/security" class="btn-outline">{{ t.dash_manage_security }}</a>
            </div>
        </div>
    </div>

    <!-- USER IDENTITY -->
    <div class="card user-identity" style="margin-top: 20px;">
        <h2>{{ t.dash_welcome }}, {{ email }}</h2>
        <div class="stats-row" style="display: flex; gap: 20px; margin-top: 15px;">
            <div class="stat-item">
                <span class="label">{{ t.dash_level }}</span>
                <span class="value">{{ profile.level }}</span>
            </div>
            <div class="stat-item">
                <span class="label">{{ t.dash_area }}</span>
                <span class="value">{{ profile.focus }}</span>
            </div>
            <div class="stat-item">
                <span class="label">{{ t.dash_skills }}</span>
                <span class="value">
                    {% for skill, score in profile.skills.items() %}
                        {% if score > 50 %}{{ skill }} {% endif %}
                    {% endfor %}
                </span>
            </div>
        </div>

        <div class="progress-container" style="margin-top: 15px; background: #374151; height: 10px; border-radius: 5px;">
            <div class="progress-bar" style="width: 78%; background: var(--primary-color); height: 100%; border-radius: 5px; box-shadow: 0 0 10px var(--primary-color);"></div>
        </div>
    </div>

    <!-- CAREER TRENDS -->
    <div class="card trends" style="margin-top: 20px;">
        <h3>{{ t.dash_trends_title }}</h3>
        <div class="trends-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 15px;">
            <div class="trend-card" style="background: rgba(0, 243, 255, 0.05); padding: 15px; border-radius: 8px; border: 1px solid rgba(0, 243, 255, 0.2);">
                <h4 style="color: var(--primary-color);">Rust</h4>
                <p>{{ t.dash_trend_rust_desc }}</p>
                <small>{{ t.dash_trend_rust_growth }}</small>
            </div>
            <div class="trend-card" style="background: rgba(0, 255, 136, 0.05); padding: 15px; border-radius: 8px; border: 1px solid rgba(0, 255, 136, 0.2);">
                <h4 style="color: var(--secondary-color);">Go (Golang)</h4>
                <p>{{ t.dash_trend_go_desc }}</p>
                <small>{{ t.dash_trend_go_demand }}</small>
            </div>
            <div class="trend-card" style="background: rgba(255, 0, 85, 0.05); padding: 15px; border-radius: 8px; border: 1px solid rgba(255, 0, 85, 0.2);">
                <h4 style="color: var(--error-color);">{{ t.dash_trend_ethics_title | default('IA Ã‰tica') }}</h4>
                <p>{{ t.dash_trend_ethics_desc }}</p>
                <small>{{ t.dash_trend_ethics_strat }}</small>
            </div>
        </div>
    </div>

    <!-- MICRO PROJECTS (PLACEHOLDER) -->
    <div class="card projects" style="margin-top: 20px;">
        <h3>{{ t.dash_plan_title }}</h3>
        <ul style="list-style: none; padding: 0;">
            {% for item in plan %}
            <li style="padding: 10px; border-bottom: 1px solid #374151; display: flex; justify-content: space-between;">
                <span>{{ item.title }} - <small>{{ item.description }}</small></span>
                <span style="color: {% if item.status == 'completed' %}#00ff88{% else %}#fbbf24{% endif %};">
                    {{ item.status }}
                </span>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}
